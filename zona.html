<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Negocios por Zona</title>
<style>
body{
    font-family: Arial, sans-serif;
    background:#f2f2f2;
    margin:0;
}
header{
    background:#1e2a3a;
    color:white;
    padding:20px;
    text-align:center;
}
.container{
    max-width:900px;
    margin:30px auto;
}
.card{
    background:white;
    padding:20px;
    margin-bottom:20px;
    border-radius:8px;
    box-shadow:0 4px 8px rgba(0,0,0,0.1);
}
button{
    background:#25D366;
    color:white;
    border:none;
    padding:10px 15px;
    border-radius:5px;
    cursor:pointer;
}
.volver{
    display:block;
    text-align:center;
    margin-top:30px;
}
</style>
</head>
<body>

<header>
<h1 id="tituloZona">Negocios</h1>
</header>

<div class="container" id="lista"></div>

<div class="volver">
<a href="index.html">⬅ Volver</a>
</div>

<script>

const urlParams = new URLSearchParams(window.location.search);
const zonaSeleccionada = urlParams.get("zona");

document.getElementById("tituloZona").innerText = "Negocios en " + zonaSeleccionada;

const url = "https://opensheet.elk.sh/1cYkxT4OBGHnd2EzeMZA5kJfTkSZvfCUEeNubTIWeWxk/Hoja%201";

fetch(url)
.then(res => res.json())
.then(data => {

    const lista = document.getElementById("lista");

    const filtrados = data.filter(item => 
        item.zona && item.zona.trim() === zonaSeleccionada
    );

    if(filtrados.length === 0){
        lista.innerHTML = "<p>No hay negocios en esta zona.</p>";
        return;
    }

    filtrados.forEach(item => {

        lista.innerHTML += `
        <div class="card">
            <h2>${item.nombre}</h2>
            <p><strong>Dirección:</strong> ${item.direccion}</p>
            <p><strong>Alias Mercado Pago:</strong> ${item.mercado_pago}</p>
            <a href="https://wa.me/${item.whatsapp}" target="_blank">
                <button>WhatsApp</button>
            </a>
        </div>
        `;

    });

})
.catch(error => {
    console.error("Error:", error);
});

</script>

</body>
</html>
